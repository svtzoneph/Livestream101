<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LIVESTREAM101</title>

<style>
/* ========== THEME COLORS ========== */
:root {
  --bg: #f9f9f9;
  --header: #ffffff;
  --card: #ffffff;
  --text: #0f0f0f;
  --muted: #606060;
  --border: #e0e0e0;
}

body.dark {
  --bg: #0f0f0f;
  --header: #181818;
  --card: #181818;
  --text: #f1f1f1;
  --muted: #aaaaaa;
  --border: #2a2a2a;
}

* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  transition: background 0.3s ease, color 0.3s ease;
  /* Prevent horizontal scroll on mobile */
  overflow-x: hidden;
}

/* ========== HEADER ========== */
header {
  height: 64px;
  background: var(--header);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px; /* Slightly less padding on mobile */
  position: sticky;
  top: 0;
  z-index: 100;
  transition: background 0.3s ease, border-color 0.3s ease;
}

.logo {
  font-size: 24px;
  font-weight: 800;
}

/* ========== THEME SWITCH (Fixed Size) ========== */
.theme-switch {
  --toggle-size: 14px;
  --container-width: 5.625em;
  --container-height: 2.5em;
  --container-radius: 6.25em;
  --container-light-bg: #3D7EAE;
  --container-night-bg: #1D1F2C;
  --circle-container-diameter: 3.375em;
  --sun-moon-diameter: 2.125em;
  --sun-bg: #ECCA2F;
  --moon-bg: #C4C9D1;
  --spot-color: #959DB1;
  --circle-container-offset: calc((var(--circle-container-diameter) - var(--container-height)) / 2 * -1);
  --stars-color: #fff;
  --clouds-color: #F3FDFF;
  --back-clouds-color: #AACADF;
  --transition: .5s cubic-bezier(0, -0.02, 0.4, 1.25);
  --circle-transition: .3s cubic-bezier(0, -0.02, 0.35, 1.17);
}

.theme-switch, .theme-switch *, .theme-switch *::before, .theme-switch *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-size: var(--toggle-size);
}

.theme-switch__container {
  width: var(--container-width);
  height: var(--container-height);
  background-color: var(--container-light-bg);
  border-radius: var(--container-radius);
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0em -0.062em 0.062em rgba(0, 0, 0, 0.25), 0em 0.062em 0.125em rgba(255, 255, 255, 0.94);
  transition: var(--transition);
  position: relative;
}

.theme-switch__container::before {
  content: "";
  position: absolute;
  z-index: 1;
  inset: 0;
  box-shadow: 0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset, 0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset;
  border-radius: var(--container-radius);
}

.theme-switch__checkbox { display: none; }

.theme-switch__circle-container {
  width: var(--circle-container-diameter);
  height: var(--circle-container-diameter);
  background-color: rgba(255, 255, 255, 0.1);
  position: absolute;
  left: var(--circle-container-offset);
  top: var(--circle-container-offset);
  border-radius: var(--container-radius);
  box-shadow: inset 0 0 0 3.375em rgba(255, 255, 255, 0.1), inset 0 0 0 3.375em rgba(255, 255, 255, 0.1), 0 0 0 0.625em rgba(255, 255, 255, 0.1), 0 0 0 1.25em rgba(255, 255, 255, 0.1);
  display: flex;
  transition: var(--circle-transition);
  pointer-events: none;
}

.theme-switch__sun-moon-container {
  pointer-events: auto;
  position: relative;
  z-index: 2;
  width: var(--sun-moon-diameter);
  height: var(--sun-moon-diameter);
  margin: auto;
  border-radius: var(--container-radius);
  background-color: var(--sun-bg);
  box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #a1872a inset;
  filter: drop-shadow(0.062em 0.125em 0.125em rgba(0, 0, 0, 0.25)) drop-shadow(0em 0.062em 0.125em rgba(0, 0, 0, 0.25));
  overflow: hidden;
  transition: var(--transition);
}

.theme-switch__moon {
  transform: translateX(100%);
  width: 100%;
  height: 100%;
  background-color: var(--moon-bg);
  border-radius: inherit;
  box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #969696 inset;
  transition: var(--transition);
  position: relative;
}

.theme-switch__spot {
  position: absolute;
  top: 0.75em;
  left: 0.312em;
  width: 0.75em;
  height: 0.75em;
  border-radius: var(--container-radius);
  background-color: var(--spot-color);
  box-shadow: 0em 0.0312em 0.062em rgba(0, 0, 0, 0.25) inset;
}

.theme-switch__spot:nth-of-type(2) {
  width: 0.375em;
  height: 0.375em;
  top: 0.937em;
  left: 1.375em;
}

.theme-switch__spot:nth-last-of-type(3) {
  width: 0.25em;
  height: 0.25em;
  top: 0.312em;
  left: 0.812em;
}

.theme-switch__clouds {
  width: 1.25em;
  height: 1.25em;
  background-color: var(--clouds-color);
  border-radius: var(--container-radius);
  position: absolute;
  bottom: -0.625em;
  left: 0.312em;
  box-shadow: 0.937em 0.312em var(--clouds-color), -0.312em -0.312em var(--back-clouds-color), 1.437em 0.375em var(--clouds-color), 0.5em -0.125em var(--back-clouds-color), 2.187em 0 var(--clouds-color), 1.25em -0.062em var(--back-clouds-color), 2.937em 0.312em var(--clouds-color), 2em -0.312em var(--back-clouds-color), 3.625em -0.062em var(--clouds-color), 2.625em 0em var(--back-clouds-color), 4.5em -0.312em var(--clouds-color), 3.375em -0.437em var(--back-clouds-color), 4.625em -1.75em 0 0.437em var(--clouds-color), 4em -0.625em var(--back-clouds-color), 4.125em -2.125em 0 0.437em var(--back-clouds-color);
  transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
}

.theme-switch__stars-container {
  position: absolute;
  color: var(--stars-color);
  top: -100%;
  left: 0.312em;
  width: 2.75em;
  height: auto;
  transition: var(--transition);
}

.theme-switch__checkbox:checked + .theme-switch__container {
  background-color: var(--container-night-bg);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container {
  left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter));
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container:hover {
  left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter) - 0.187em)
}

.theme-switch__circle-container:hover {
  left: calc(var(--circle-container-offset) + 0.187em);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__moon {
  transform: translate(0);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__clouds {
  bottom: -4.062em;
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__stars-container {
  top: 50%;
  transform: translateY(-50%);
}

/* ========== LAYOUT ========== */
.main {
  display: grid;
  /* Desktop: 75% video, 25% chat */
  grid-template-columns: 3fr 1fr;
  gap: 16px;
  padding: 16px;
  max-width: 1600px;
  margin: auto;
  /* Prevent full-width on super large screens */
  width: 100%;
}

/* Stream Column */
.stream-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Video Card */
.video-wrapper {
  background: var(--card);
  border-radius: 12px;
  border: 1px solid var(--border);
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

/* 16:9 RESPONSIVE RATIO (Crucial for Mobile) */
.video-frame {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* 16:9 Aspect Ratio */
}

.video-frame iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: none;
}

/* Video Info */
.video-info {
  padding: 0 4px;
}

.video-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 6px;
}

.video-desc {
  font-size: 15px;
  color: var(--muted);
  line-height: 1.4;
}

/* Chat Card */
.chat-wrapper {
  background: var(--card);
  border-radius: 12px;
  border: 1px solid var(--border);
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0,0,0,0.05);
  /* Desktop default height (adjust if needed) */
  height: 80vh; 
  max-height: 800px;
  min-height: 400px;
}

.chat-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* ========== MOBILE OPTIMIZATION ========== */
/* Triggered when screen is smaller than 900px (Tablets & Phones) */
@media (max-width: 900px) {
  .main {
    /* Stack Video on top of Chat */
    grid-template-columns: 1fr; 
    padding: 10px; /* Smaller padding */
    gap: 20px;
  }

  /* Make chat tall enough on mobile */
  .chat-wrapper {
    height: 500px; /* Give chat plenty of vertical space */
  }

  .video-title {
    font-size: 18px;
  }

  .logo {
    font-size: 25px;
  }
}
</style>
</head>

<body>

<header>
  <div class="logo">LIVESTREAM101</div>

  <label class="theme-switch">
    <input type="checkbox" class="theme-switch__checkbox" id="themeToggle">
    <div class="theme-switch__container">
      <div class="theme-switch__clouds"></div>
      <div class="theme-switch__stars-container">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 144 55" fill="none">
           <path fill-rule="evenodd" clip-rule="evenodd" d="M138.51 10.1265L139.559 12.3397L141.777 13.4357L139.559 14.5317L138.51 16.7449L137.461 14.5317L135.242 13.4357L137.461 12.3397L138.51 10.1265ZM109.916 38.312L111.45 41.547L114.693 43.1493L111.45 44.7516L109.916 47.9866L108.382 44.7516L105.139 43.1493L108.382 41.547L109.916 38.312ZM123.676 25.1069L124.632 27.1234L126.654 28.1221L124.632 29.1208L123.676 31.1373L122.72 29.1208L120.699 28.1221L122.72 27.1234L123.676 25.1069ZM31.1448 8.87532L32.1934 11.0885L34.4118 12.1845L32.1934 13.2805L31.1448 15.4937L30.0962 13.2805L27.8778 12.1845L30.0962 11.0885L31.1448 8.87532ZM13.8824 23.3601L14.931 25.5732L17.1495 26.6693L14.931 27.7653L13.8824 29.9785L12.8338 27.7653L10.6154 26.6693L12.8338 25.5732L13.8824 23.3601ZM21.9213 37.108L22.655 38.6565L24.2073 39.4234L22.655 40.1903L21.9213 41.7388L21.1876 40.1903L19.6353 39.4234L21.1876 38.6565L21.9213 37.108Z" fill="white"></path>
        </svg>
      </div>
      <div class="theme-switch__circle-container">
        <div class="theme-switch__sun-moon-container">
          <div class="theme-switch__moon">
            <div class="theme-switch__spot"></div>
            <div class="theme-switch__spot"></div>
            <div class="theme-switch__spot"></div>
          </div>
        </div>
      </div>
    </div>
  </label>
</header>

<div class="main">

  <div class="stream-column">
    
    <div class="video-wrapper">
      <div class="video-frame">
        <iframe src="https://dlive.tv/livestream_101" allowfullscreen></iframe>
      </div>
    </div>

    <div class="video-info">
      <div class="video-title">test stream</div>
      <div class="video-desc">Optional stream description or status</div>
    </div>

  </div>

  <div class="chat-wrapper">
    <iframe src="https://dlive.tv/livestream_101/chat"></iframe>
  </div>

</div>

<script>
const toggle = document.getElementById("themeToggle");

if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark");
  toggle.checked = true;
}

toggle.addEventListener("change", () => {
  if (toggle.checked) {
    document.body.classList.add("dark");
    localStorage.setItem("theme", "dark");
  } else {
    document.body.classList.remove("dark");
    localStorage.setItem("theme", "light");
  }
});
</script>

</body>
</html>
